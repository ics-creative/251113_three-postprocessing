import{n as w,j as g,u as l,l as p,an as c,ao as v,k as x,ap as y,t as N,$ as P,v as S,L as b,c as z,e as W,W as M,aq as f,ar as C,h as H,af as L,ag as R}from"./three.tsl-DEd_xDPd.js";class j extends g{static get type(){return"DotScreenNode"}constructor(s,e=1.57,o=1){super("vec4"),this.inputNode=s,this.angle=l(e),this.scale=l(o)}setup(){const s=this.inputNode,e=p(()=>{const t=c(this.angle),n=v(this.angle),a=x().mul(y),r=N(n.mul(a.x).sub(t.mul(a.y)),t.mul(a.x).add(n.mul(a.y))).mul(this.scale);return c(r.x).mul(c(r.y)).mul(4)});return p(()=>{const t=s,n=P(t.r,t.g,t.b).div(3);return S(b(n.mul(10).sub(5).add(e())),t.a)})()}}const q=(i,s,e)=>w(new j(w(i),s,e)),D=()=>{const i=document.querySelector("#app");if(!i)return;const s=new z,e=new W(75,window.innerWidth/window.innerHeight,.1,1e3);e.position.z=5;const o=new M({antialias:!0});o.setSize(window.innerWidth,window.innerHeight),o.setPixelRatio(window.devicePixelRatio),i.appendChild(o.domElement);const d=new f(2,2,2),t=new C,n=new H(d,t);s.add(n);const a=new L(o),m=R(s,e).getTextureNode();a.outputNode=q(m);const h=()=>{e.aspect=window.innerWidth/window.innerHeight,e.updateProjectionMatrix(),o.setSize(window.innerWidth,window.innerHeight)};window.addEventListener("resize",h);const u=async()=>{requestAnimationFrame(u),n.rotation.x=n.rotation.x+.01,n.rotation.y=n.rotation.y+.01,await a.renderAsync()};u()};document.addEventListener("DOMContentLoaded",D);
